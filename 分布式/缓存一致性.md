## 分布式一致性相关

### 概念
- 在分布式系统中，因为存在数据副本，写入后读到的值是不确定的。比如有一个变量x值为0，我在两个节点分别执行x=1和x=2，随后在另一个节点读取x，
  那么x的值可能是1，可能是2，也可能是0。而分布式一致性就是描述一个分布式系统能返回什么样的值，是一种承诺。
- 分布式一致性模型有很多分类标准
  - 最常见的强一致性、弱一致性和最终一致性。强一致性指的是，写入一个值后，后续的读取总是能读到最新的值。实现成本较高。
    弱一致性指的是，写入值后不一定立马能读到，但是隔一段时间后可以读到。最终一致性类似弱一致性，什么时候能读到不确定，但是可以保证最终一定能读到。
    具体实现哪种一致性取决于业务场景。
  - 强一致性也可以分为线性一致性和顺序一致性。二者都强调写入值后能够立刻读到。区别在于线性一致性是全序的，而顺序一致性是偏序的，仅在单个节点有序。
    线性一致性是一种理论上的模型，因为它要求将所有的事件按照时间戳进行全局排序，排序要与单个节点的执行顺序一致。但是在现实当中，这种全局时钟是不存在的。
    所以其存在的意义仅仅是理论分析。顺序一致性是偏序，不同节点的事件无法排序。可以这么理解，所有节点需要读到相同的顺序。总之，这两者都要求立刻读到之前的修改，
    所以是强一致的。
- 分布式一致性常常和共识算法有混淆，其实是不完全一样的。一致性描述的是分布式系统能够读到什么样的值，不同的一致性有不同的标准，读到的值甚至可能是不一致的。
  而共识算法是说多个节点进行提议，力求达到一致。
- 分布式系统常常涉及同步问题，如果同步过程设计有缺陷，导致不同节点同步的数据不对，就造成了数据的不一致，可能连最终一致性都不满足。所以一致性协议就显得非常重要。
